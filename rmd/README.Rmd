---
title: "README"
output: github_document
knit: (function(inputFile, encoding) {
        rmarkdown::render(inputFile,
                          encoding = encoding, 
                          output_dir = here::here())
      })
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
                      message = FALSE,
                      warning = FALSE)

pacman::p_load(tidyverse,
               sf)
```

# Article Information

**Tentative title**: Geometric ecosystem complexity regulates food chains

**Authors**: Terui A, Shibasaki S, Pomeranz JPF, XXX, Yamazaki D, Finlay JC

# Analysis Flow

## Theoretical Analysis

Script `run_theory.R` runs all analysis, including analytical and numerical explorations.

For source codes, see:

-   `analysis_theory_m_heatmap.R` (analytical)

-   `analysis_theory_m_line.R` (analytical, for visualization)

-   `analysis_theory_si.R` (numerical)

For visualization, see:

-   `figure_theo_main.R` (main figures)

-   `figure_theo_si.R` (supporting figures)

## Empirical Analysis

**Bayesian data analysis**: Script `run_emp_model_hier_nimble.R` runs the Bayesian hierarchical models. Model source codes are `model_nimble_hi.R` (random intercept model) and `model_nimble_hsl.R` (random intercept and slope model).

Data are formatted in and sourced from:

-   `format_emp_data4nimble.R` (generate `data_fmt/data_fcl_reg.rds`, which was used for statistical analysis)

-   `gis_emp_wsd_weight.R` (distance ratio; `data_fmt/data_weight.rds`)

For visualization, see:

-   `figure_emp_main.R`

**Precipitation-flow analysis**: Script `format_emp_flow.R` runs the GAM analysis. Script `analysis_emp_cor.R` analyze the relationship between precipitation and discharge anomalies.

**Predictor correlation**: Script `analysis_emp_cor.R` analyzes correlations between predictors.

# Data Sources

## File Description

```{r src}

setwd(str_remove(normalizePath("."), "\\\\rmd"))
source("rmd/table_readme.R")

knitr::kable(df_fnm)
```

## Column Description

```{r column}

options(knitr.kable.NA = "")
knitr::kable(df_cnm)

```


